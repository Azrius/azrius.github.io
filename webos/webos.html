<html>
	<head>
		<style>
			body {
				background-color: #6A3D38;
				color: #998F7C;
				font-family: Euphemia;
				font-size: 9px;
			}
			
			.taskbar-button {
				font-size: 12px;
				cursor: hand;
			}
		</style>
		
		<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
		
		<script>
			var RAM = {
				terminalLine: 0,
				terminalOpen: 0,
			};
			var SSD = {};
			var terminalCommands = {};
			
			setInterval(function(){
				var clock = new Date();
				var timeValues = {
					h: clock.getHours(),
					m: clock.getMinutes(),
				}
				
				document.getElementById("clock").innerHTML = timeValues.h + ": " + timeValues.m;
			}, 500);
			
			function Window(contents, title){
				document.body.innerHTML += "<div id='" + title + "' class='window'></div>";
				$("#" + title).css("background-color", "#201F1D");
				$("#" + title).css("display", "inline-block");
				$("#" + title).css("border-style", "solid");
				$("#" + title).css("border-width", "4px");
				$("#" + title).css("border-color", "#A73E28");
				
				var closeFunc = "$(\"#" + title + "\").remove()";
				var closeButton = "<span onclick='" + closeFunc + "' style='color: #EDDEC9; font-size: 16px; background-color: #A73E28; cursor: pointer;'>[+]</span>";
				var titleBar = "<span style='color: #EDDEC9; font-size: 16px; background-color: #A73E28;'> - " + title + " - </span><br />";
				
				document.getElementById(title).innerHTML += closeButton;
				document.getElementById(title).innerHTML += titleBar;
				document.getElementById(title).innerHTML += contents;
			}
			
			function startTerminal(){
				if(!document.getElementById("terminal")){
					terminalSource = "<div id='output' style='width: 500px; height: 180px;'></div>";
					terminalSource += "<input id='expression' style='font-size: 9px; width: 500px;' />";
				
					var terminalWindow = new Window(terminalSource, "terminal");
				} else {
					return 0;
				}
			}
			
			function startCalculator(){
				
			}
			
			function initClock(){
				alert("clock intialized");
				document.getElementById("taskbar").innerHTML += "<p id='clock' style='position: absolute; left: 95%; top: -1%;'>test</p>";
			}
			
			function terminalPrint(text){
				RAM.terminalLine += 1;
				document.getElementById("output").innerHTML += ": " + text + "<br />";
			}
			
			function emulateCommand(command){
				if(RAM.terminalLine >= 14){
					document.getElementById("output").innerHTML = "";
				}
			
				if(command == "test"){
					terminalPrint("hello, world");
				} else {
					terminalPrint("ERROR[0]: " + command + " - Unknown command.");
				}
				
				document.getElementById("expression").value = "";
			}
			
			$(document).keypress(function(event){
				if(event.which == 13){
					emulateCommand(document.getElementById("expression").value);
				}
			});
			
			$(document).ready(function(){
				$("body").css("overflow", "hidden");
				initClock();
			});
		</script>
	</head>
	
	<body>
		<div id="taskbar" style="width: 102%; height: 20px; margin-top: -7px; margin-left: -10px; color: #EDDEC9; background-color: #000000;"><span>Apps - </span><span class="taskbar-button" onclick="startCalculator">[c]</span><span class="taskbar-button" onclick="startTerminal()" id="terminalButton">[t]</span></div>
	</body>
</html>
